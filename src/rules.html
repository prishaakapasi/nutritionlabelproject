<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="createrecipe.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Community - Rules</title>
</head>
<body>
  <nav class="navbar">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="tutorial.html">Tutorial</a></li>
      <li><a href="setuprecipe.html">Create</a></li>
      <li><a href="library.html">Library</a></li>
    </ul>
  </nav>
  
  <div class="content-wrapper">
    <aside class="sidebar">
      <nav class="sidebar-nav" id="dynamicNav">
      </nav>
    </aside>
    <main>
     <h1>Rules</h1>
     <h3>Give people a quick overview of your community's rules, including broader covenants or norms you subscribe to or community-specific rules.</h3>
     <div class="container">
        <h1>Covenants</h1>
        
        <div class="section">
            <h2>Widely Shared Covenants</h2>
            <div class="covenant-list" id="covenant-list">
                <div class="covenant-item">
                    <select onchange="window.handleCovenantChange(this)">
                        <option value="">Select a covenant...</option>
                        <option value="Mastodon Server Covenant">Mastodon Server Covenant</option>
                        <option value="Discord Community Guidelines">Discord Community Guidelines</option>
                        <option value="Bonfire Community Guidelines">Bonfire Community Guidelines</option>
                        <option value="Bluesky Community Guidelines">Bluesky Community Guidelines</option>
                        <option value="custom">Custom</option>
                    </select>
                    <input type="text" class="custom-covenant-input" placeholder="Enter custom covenant name" style="display: none; margin-top: var(--spacing-sm); width: 100%; flex-basis: 100%;">
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Adapted From</h2>
            <div class="description">Optional: Indicate where you've copied rules from, if relevant</div>
            <textarea id="adaptedFrom" placeholder="Enter source information here..."></textarea>
        </div>

        <div class="section">
            <h2>Community Rules</h2>
            <div class="checkbox-list">
                <div class="checkbox-item">
                    <input type="checkbox" id="rule1">
                    <label for="rule1">No harmful, offensive, or abusive language</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="rule2">
                    <label for="rule2">No harassment</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="rule3">
                    <label for="rule3">No NSFW</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="rule4">
                    <label for="rule4">Content Warnings required</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="rule5">
                    <label for="rule5">No spam</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="rule6">
                    <label for="rule6">No violence or threats thereof</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="rule7">
                    <label for="rule7">No doxxing / sharing PII about others</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="rule8">
                    <label for="rule8">No promotion or ads</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="rule9">
                    <label for="rule9">No illegal content</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="rule10">
                    <label for="rule10">No AI-generated content</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="rule11">
                    <label for="rule11">Bots restricted</label>
                </div>
            </div>
            <div id="custom-rules"></div>
            <button class="add-btn" onclick="window.addCustomRule()" style="margin-top: var(--spacing-md);">+</button>
        </div>
    </div>
  </div>

  <script type="module" src="navigation.js"></script>

  <script type="module">
    import { createClient } from "https://esm.sh/@supabase/supabase-js@2";

    const supabaseUrl = "https://sewbsumjjlpsbadgwgfk.supabase.co";
    const supabaseKey = "sb_publishable_wSb8KHh3lvlLMMCxSTLQ-Q_bYqvk77x";
    const supabase = createClient(supabaseUrl, supabaseKey);

    let customRuleCount = 12;

    window.handleCovenantChange = function(select) {
      const textInput = select.nextElementSibling;
      if (select.value === 'custom') {
        textInput.style.display = 'block';
        textInput.focus();
      } else {
        textInput.style.display = 'none';
        textInput.value = '';
      }
      window.autoSaveData();
    };
  </script>
</body>
</html>
